name: first shot

on: push

jobs:
  my-job:
  name: My Job
    runs-on: ubuntu-latest
    strategy:
      matrix:
      python-version: [3.5, 3.6, 3.7]
      os: ubuntu-latest
    steps:
      - name: test
      - uses: actions/checkout@release
        # This step checks out a copy of your repository.
        #- uses: actions/checkout@v1
        # This step references the directory that contains the action.
        #- uses: ./.github/actions/tests
        - run: |
            ls -la
            pip install -r requirements.txt
            cd hadoop_yarn_cluster_checker_model
            python test.py
            python -m pytest test --junitxml=./test-reports/coverage.xml
      - name: build
        - uses: actions/checkout@release
        - run: |
            pip freeze > requirements.txt
            python setup.py sdist bdist_wheel



